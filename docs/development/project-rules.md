# InkDot é¡¹ç›®å¼€å‘è§„åˆ™

> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.2.0  
> **åˆ›å»ºæ—¶é—´æˆ³**ï¼šT1  
> **æœ€åæ›´æ–°**ï¼šT0.3  
> **çŠ¶æ€**ï¼šğŸŸ¢ CURRENT  
> **ç»´æŠ¤è€…**ï¼šInkDotå¼€å‘å›¢é˜Ÿ  
> **ä¸‹æ¬¡å®¡æŸ¥**ï¼šT30.3

## é¡¹ç›®æ¦‚è¿°
InkDotæ˜¯ä¸€ä¸ªåŸºäºæ€ç»´å¯¼å›¾çš„åˆ›æ„åˆ›ä½œå¹³å°ï¼Œé›†æˆAIåŠŸèƒ½ï¼Œæ”¯æŒå°è¯´åˆ›ä½œã€è·‘å›¢ã€æ–‡å­—å†’é™©ç­‰å¤šç§åˆ›ä½œæ¨¡å¼ã€‚

## æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Vue 3 + TypeScript + Pinia + Vite
- **åç«¯**: Node.js + Express + Fastify
- **AIé›†æˆ**: DeepSeek API + OpenRouter API + LangChain
- **å­˜å‚¨**: SQLite + JSONæ–‡ä»¶ + æœ¬åœ°å­˜å‚¨
- **æ ·å¼**: CSS + è‡ªå®šä¹‰ç»„ä»¶åº“ï¼ˆåŸºäºå¢¨ç‚¹Logoè®¾è®¡ï¼‰

## æ–‡æ¡£å’Œæ—¶é—´æˆ³ç®¡ç†

### æ—¶é—´æˆ³ç³»ç»Ÿè§„èŒƒ
- **åŸºå‡†æ—¶é—´**: é¡¹ç›®å¯åŠ¨æ—¶é—´ä¸º 2025-09-21 00:00:00 UTC (T0)
- **æ—¶é—´æˆ³æ ¼å¼**: `T{å¤©æ•°}` æˆ– `T{å¤©æ•°}.{å°æ—¶}`
- **è·å–å½“å‰æ—¶é—´æˆ³**: ä½¿ç”¨ `npm run timestamp:current`
- **æ–‡æ¡£æ›´æ–°**: é‡è¦ä¿®æ”¹åå¿…é¡»æ›´æ–°æ—¶é—´æˆ³

### æ—¶é—´æˆ³å·¥å…·ä½¿ç”¨
```bash
# è·å–å½“å‰é¡¹ç›®æ—¶é—´æˆ³
npm run timestamp:current

# è½¬æ¢æ—¶é—´æˆ³ä¸ºè¯¦ç»†ä¿¡æ¯
node docs/tools/timestamp-helper.js convert T1.5

# è®¡ç®—ä¸‹æ¬¡å®¡æŸ¥æ—¶é—´
node docs/tools/timestamp-helper.js next-review T0.1

# æ›´æ–°æ–‡æ¡£æ—¶é—´æˆ³
npm run docs:update docs/README.md

# ç”Ÿæˆæ–°æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯
npm run docs:header v1.0.0 T0.1
```

### æ–‡æ¡£å¤´éƒ¨è§„èŒƒ
æ‰€æœ‰æ–‡æ¡£å¿…é¡»åŒ…å«ä»¥ä¸‹å¤´éƒ¨ä¿¡æ¯ï¼š
```markdown
> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0  
> **åˆ›å»ºæ—¶é—´æˆ³**ï¼šT0  
> **æœ€åæ›´æ–°**ï¼šT0.1  
> **çŠ¶æ€**ï¼šğŸŸ¢ CURRENT  
> **ç»´æŠ¤è€…**ï¼šInkDotå¼€å‘å›¢é˜Ÿ  
> **ä¸‹æ¬¡å®¡æŸ¥**ï¼šT30.1
```

### æ–‡æ¡£çŠ¶æ€æ ‡è¯†
- ğŸŸ¢ **CURRENT** - å½“å‰ç‰ˆæœ¬ï¼Œæ¨èä½¿ç”¨
- ğŸŸ¡ **OUTDATED** - è¿‡æ—¶ç‰ˆæœ¬ï¼Œè®¡åˆ’æ›´æ–°
- ğŸ”´ **DEPRECATED** - å·²åºŸå¼ƒï¼Œä¸å†ç»´æŠ¤
- ğŸš§ **DRAFT** - è‰ç¨¿çŠ¶æ€ï¼Œå¼€å‘ä¸­
- ğŸ“‹ **PLANNED** - è®¡åˆ’åˆ›å»º

### æ–‡æ¡£æ›´æ–°æµç¨‹
1. ä¿®æ”¹æ–‡æ¡£å†…å®¹
2. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆå¦‚æœ‰é‡å¤§å˜æ›´ï¼‰
3. ä½¿ç”¨å·¥å…·æ›´æ–°æ—¶é—´æˆ³ï¼š`npm run docs:update <æ–‡æ¡£è·¯å¾„>`
4. æ£€æŸ¥æ–‡æ¡£çŠ¶æ€æ ‡è¯†
5. æäº¤å˜æ›´å¹¶è®°å½•åˆ°CHANGELOG.md

## ä»£ç è§„èŒƒ

### TypeScriptè§„èŒƒ
- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ `"strict": true`
- æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰æ˜ç¡®çš„è¿”å›ç±»å‹
- ä½¿ç”¨æ¥å£å®šä¹‰æ•°æ®ç»“æ„ï¼Œé¿å…anyç±»å‹
- ä¼˜å…ˆä½¿ç”¨typeè€Œä¸æ˜¯interfaceï¼Œé™¤ééœ€è¦ç»§æ‰¿
- ä½¿ç”¨æ³›å‹æé«˜ä»£ç å¤ç”¨æ€§

```typescript
// å¥½çš„ç¤ºä¾‹
interface MindMapNode {
  id: string;
  content: string;
  position: { x: number; y: number };
  connections: string[];
}

function createNode(data: Partial<MindMapNode>): MindMapNode {
  return {
    id: generateId(),
    content: data.content || '',
    position: data.position || { x: 0, y: 0 },
    connections: data.connections || []
  };
}
```

### Vue 3è§„èŒƒ
- ä½¿ç”¨Composition APIï¼Œé¿å…Options API
- ä½¿ç”¨`<script setup>`è¯­æ³•
- ç»„ä»¶åä½¿ç”¨PascalCase
- Propsä½¿ç”¨definePropsï¼ŒEmitsä½¿ç”¨defineEmits
- ä½¿ç”¨ref/reactiveè¿›è¡Œå“åº”å¼æ•°æ®ç®¡ç†

```vue
<script setup lang="ts">
import { ref, computed } from 'vue'
import type { MindMapNode } from '@/types'

interface Props {
  node: MindMapNode
  editable?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  editable: false
})

const emit = defineEmits<{
  update: [node: MindMapNode]
  delete: [nodeId: string]
}>()

const isEditing = ref(false)
const nodeContent = ref(props.node.content)
</script>
```

### æ–‡ä»¶å‘½åè§„èŒƒ
- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨PascalCase: `MindMapNode.vue`
- å·¥å…·å‡½æ•°æ–‡ä»¶ä½¿ç”¨camelCase: `nodeUtils.ts`
- ç±»å‹å®šä¹‰æ–‡ä»¶ä½¿ç”¨camelCase: `mindMapTypes.ts`
- å¸¸é‡æ–‡ä»¶ä½¿ç”¨UPPER_CASE: `API_CONSTANTS.ts`

### ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # åŸºç¡€UIç»„ä»¶
â”‚   â”œâ”€â”€ mindmap/        # æ€ç»´å¯¼å›¾ç›¸å…³ç»„ä»¶
â”‚   â””â”€â”€ workspace/      # å·¥ä½œåŒºç»„ä»¶
â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”œâ”€â”€ stores/             # PiniaçŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ services/           # APIæœåŠ¡
â”œâ”€â”€ hooks/              # ç»„åˆå¼å‡½æ•°
â””â”€â”€ assets/             # é™æ€èµ„æº
```

## AIåŠŸèƒ½å¼€å‘è§„èŒƒ

### AIæœåŠ¡é›†æˆ
- ä¼˜å…ˆä½¿ç”¨DeepSeek APIï¼ŒOpenRouterä½œä¸ºå¤‡é€‰
- æ‰€æœ‰AIè°ƒç”¨å¿…é¡»æœ‰é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- å®ç°APIè°ƒç”¨æˆæœ¬ç›‘æ§
- æ”¯æŒæ¨¡å‹åˆ‡æ¢å’Œé…ç½®

```typescript
// AIæœåŠ¡æŠ½è±¡
interface AIService {
  name: 'deepseek' | 'openrouter';
  generateText(prompt: string, options?: AIOptions): Promise<string>;
  analyzeContent(content: string): Promise<ContentAnalysis>;
}

// é”™è¯¯å¤„ç†ç¤ºä¾‹
async function callAI(service: AIService, prompt: string): Promise<string> {
  try {
    return await service.generateText(prompt);
  } catch (error) {
    console.error('AIè°ƒç”¨å¤±è´¥:', error);
    // é‡è¯•é€»è¾‘
    return await retryAICall(service, prompt);
  }
}
```

### èŠ‚ç‚¹çº§AIåŠŸèƒ½
- æ¯ä¸ªèŠ‚ç‚¹éƒ½æ”¯æŒAIæ“ä½œ
- AIåŠŸèƒ½é€šè¿‡æŒ‡ä»¤ç³»ç»Ÿè°ƒç”¨: `@ai`, `@expand`, `@analyze`
- æ”¯æŒä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„AIå»ºè®®
- å®ç°AIæ“ä½œå†å²è®°å½•

## æç®€ä¸»ä¹‰è®¾è®¡åŸåˆ™

### è®¾è®¡å“²å­¦
InkDotéµå¾ªæç®€ä¸»ä¹‰è®¾è®¡åŸåˆ™ï¼Œè¿½æ±‚"å°‘å³æ˜¯å¤š"çš„è®¾è®¡ç†å¿µï¼Œé€šè¿‡ç®€æ´çš„ç•Œé¢å’Œç›´è§‚çš„äº¤äº’ï¼Œè®©ç”¨æˆ·ä¸“æ³¨äºåˆ›æ„æœ¬èº«ã€‚

### è§†è§‰æç®€ä¸»ä¹‰
- **ç•™ç™½åŸåˆ™**: å……åˆ†ä½¿ç”¨ç•™ç™½ç©ºé—´ï¼Œé¿å…ç•Œé¢æ‹¥æŒ¤
- **è‰²å½©å…‹åˆ¶**: ä¸»è¦ä½¿ç”¨é»‘ç™½ç°é…è‰²ï¼Œç‚¹ç¼€å°‘é‡å“ç‰Œè‰²
- **å­—ä½“ç®€æ´**: é€‰æ‹©æ˜“è¯»æ€§å¼ºçš„æ— è¡¬çº¿å­—ä½“
- **å›¾æ ‡ç®€çº¦**: ä½¿ç”¨çº¿æ¡ç®€æ´çš„å›¾æ ‡ï¼Œé¿å…å¤æ‚è£…é¥°

```css
/* æç®€è‰²å½©ç³»ç»Ÿ */
:root {
  --color-primary: #000000;      /* ä¸»è‰²ï¼šçº¯é»‘ */
  --color-secondary: #666666;    /* æ¬¡è¦è‰²ï¼šä¸­æ€§ç° */
  --color-accent: #0066FF;       /* å¼ºè°ƒè‰²ï¼šå“ç‰Œè“ */
  --color-background: #ffffff;   /* èƒŒæ™¯è‰²ï¼šçº¯ç™½ */
  --color-surface: #f8f9fa;      /* è¡¨é¢è‰²ï¼šæµ…ç° */
  --color-text: #212529;         /* æ–‡æœ¬è‰²ï¼šæ·±ç° */
  --color-muted: #6c757d;        /* é™éŸ³è‰²ï¼šä¸­ç° */
}

/* æç®€é—´è·ç³»ç»Ÿ */
.spacing-xs { margin: 0.25rem; }   /* 4px */
.spacing-sm { margin: 0.5rem; }    /* 8px */
.spacing-md { margin: 1rem; }      /* 16px */
.spacing-lg { margin: 1.5rem; }    /* 24px */
.spacing-xl { margin: 2rem; }      /* 32px */
```

### äº¤äº’æç®€ä¸»ä¹‰
- **å‡å°‘ç‚¹å‡»**: æ¯ä¸ªåŠŸèƒ½æœ€å¤š3æ¬¡ç‚¹å‡»åˆ°è¾¾
- **æ™ºèƒ½é»˜è®¤**: æä¾›åˆç†çš„é»˜è®¤è®¾ç½®å’Œæ™ºèƒ½å»ºè®®
- **æ¸è¿›æŠ«éœ²**: é«˜çº§åŠŸèƒ½é»˜è®¤éšè—ï¼ŒæŒ‰éœ€æ˜¾ç¤º
- **ä¸€é”®æ“ä½œ**: å¸¸ç”¨åŠŸèƒ½æ”¯æŒä¸€é”®å®Œæˆ

### åŠŸèƒ½æç®€ä¸»ä¹‰
- **æ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆ**: çªå‡ºæ€ç»´å¯¼å›¾æ ¸å¿ƒåŠŸèƒ½
- **åŠŸèƒ½åˆ†å±‚**: åŸºç¡€åŠŸèƒ½ã€é«˜çº§åŠŸèƒ½ã€ä¸“å®¶åŠŸèƒ½åˆ†å±‚è®¾è®¡
- **å‡å°‘é€‰æ‹©**: é¿å…è¿‡å¤šçš„é…ç½®é€‰é¡¹å’Œè®¾ç½®
- **æ™ºèƒ½è¾…åŠ©**: é€šè¿‡AIå‡å°‘ç”¨æˆ·æ‰‹åŠ¨æ“ä½œ

```typescript
// æç®€APIè®¾è®¡ç¤ºä¾‹
interface MindMapConfig {
  // åªæš´éœ²æ ¸å¿ƒé…ç½®
  theme: 'light' | 'dark';
  layout: 'radial' | 'tree';
  autoSave: boolean;
  
  // é«˜çº§é…ç½®é€šè¿‡æ‰©å±•æ¥å£
  advanced?: AdvancedConfig;
}

// æ™ºèƒ½é»˜è®¤å€¼
const defaultConfig: MindMapConfig = {
  theme: 'light',
  layout: 'radial',
  autoSave: true
};
```

### ç•Œé¢æç®€ä¸»ä¹‰
- **æ‰å¹³åŒ–è®¾è®¡**: é¿å…è¿‡å¤šçš„é˜´å½±å’Œç«‹ä½“æ•ˆæœ
- **ç½‘æ ¼å¯¹é½**: ä½¿ç”¨12åˆ—ç½‘æ ¼ç³»ç»Ÿä¿æŒå¯¹é½
- **ä¸€è‡´æ€§**: ç›¸åŒåŠŸèƒ½ä½¿ç”¨ç›¸åŒçš„äº¤äº’æ¨¡å¼
- **å¯é¢„æµ‹æ€§**: ç”¨æˆ·æ“ä½œç»“æœå¯é¢„æœŸ

### æç®€ä¸»ä¹‰æ£€æŸ¥æ¸…å•
- [ ] ç•Œé¢å…ƒç´ æ˜¯å¦å¿…è¦ï¼Ÿèƒ½å¦ç§»é™¤ï¼Ÿ
- [ ] ç”¨æˆ·æ˜¯å¦èƒ½å¿«é€Ÿç†è§£åŠŸèƒ½ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å¤šä½™çš„è£…é¥°å…ƒç´ ï¼Ÿ
- [ ] äº¤äº’æµç¨‹æ˜¯å¦æœ€ç®€åŒ–ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ª"3æ¬¡ç‚¹å‡»"åŸåˆ™ï¼Ÿ
- [ ] è‰²å½©ä½¿ç”¨æ˜¯å¦å…‹åˆ¶ï¼Ÿ
- [ ] å­—ä½“å’Œé—´è·æ˜¯å¦ç»Ÿä¸€ï¼Ÿ

### æç®€ä¸»ä¹‰ä¸AIé›†æˆ
- **æ™ºèƒ½ç®€åŒ–**: ä½¿ç”¨AIè‡ªåŠ¨ç®€åŒ–å¤æ‚å†…å®¹
- **æ™ºèƒ½æ¨è**: åŸºäºç”¨æˆ·è¡Œä¸ºæ¨èç®€åŒ–é€‰é¡¹
- **è‡ªç„¶äº¤äº’**: AIäº¤äº’ä½¿ç”¨è‡ªç„¶è¯­è¨€ï¼Œé¿å…å¤æ‚è¡¨å•
- **æ¸è¿›å¼AI**: AIåŠŸèƒ½æ¸è¿›å¼å¼•å…¥ï¼Œä¸å¹²æ‰°æ ¸å¿ƒæµç¨‹

## ç»„ä»¶å¼€å‘è§„èŒƒ

### æ€ç»´å¯¼å›¾ç»„ä»¶
- ä½¿ç”¨Canvas/SVGè¿›è¡Œæ¸²æŸ“
- æ”¯æŒèŠ‚ç‚¹æ‹–æ‹½ã€è¿æ¥ã€ç¼–è¾‘
- å®ç°æ‚¬æµ®å·¥å…·æ å’Œå³é”®èœå•
- æ”¯æŒé”®ç›˜å¿«æ·é”®æ“ä½œ
- éµå¾ªæç®€ä¸»ä¹‰è®¾è®¡åŸåˆ™

### å·¥ä½œåŒºç»„ä»¶
- ä»¿ç…§Cursorè®¾è®¡é£æ ¼
- æ”¯æŒå¤šæ ‡ç­¾é¡µå’Œä¾§è¾¹æ 
- å®ç°é¡¹ç›®ç®¡ç†å’ŒAIé¢æ¿
- æ”¯æŒå¸ƒå±€è‡ªå®šä¹‰å’Œä¿å­˜
- ç•Œé¢ä¿æŒæç®€ï¼ŒåŠŸèƒ½æ¸è¿›æŠ«éœ²

### åŸºç¡€UIç»„ä»¶
- åŸºäºå¢¨ç‚¹Logoè®¾è®¡é£æ ¼
- ä½¿ç”¨ä¸€è‡´çš„é¢œè‰²å’Œå­—ä½“
- æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ä¸¥æ ¼éµå¾ªæç®€ä¸»ä¹‰è§†è§‰è§„èŒƒ

## çŠ¶æ€ç®¡ç†è§„èŒƒ

### Pinia Storeè®¾è®¡
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†Store
- ä½¿ç”¨ç»„åˆå¼APIé£æ ¼
- å®ç°æ•°æ®æŒä¹…åŒ–
- æ”¯æŒçŠ¶æ€åŒæ­¥å’Œæ¢å¤

```typescript
// ç¤ºä¾‹Store
export const useMindMapStore = defineStore('mindMap', () => {
  const nodes = ref<MindMapNode[]>([])
  const selectedNodeId = ref<string | null>(null)
  
  const selectedNode = computed(() => 
    nodes.value.find(node => node.id === selectedNodeId.value)
  )
  
  function addNode(node: MindMapNode) {
    nodes.value.push(node)
  }
  
  function updateNode(id: string, updates: Partial<MindMapNode>) {
    const index = nodes.value.findIndex(node => node.id === id)
    if (index !== -1) {
      nodes.value[index] = { ...nodes.value[index], ...updates }
    }
  }
  
  return {
    nodes: readonly(nodes),
    selectedNodeId,
    selectedNode,
    addNode,
    updateNode
  }
})
```

## æµ‹è¯•è§„èŒƒ

### å•å…ƒæµ‹è¯•
- ä½¿ç”¨Vitestè¿›è¡Œå•å…ƒæµ‹è¯•
- æµ‹è¯•è¦†ç›–ç‡è¦æ±‚ > 80%
- é‡è¦å·¥å…·å‡½æ•°å¿…é¡»æœ‰æµ‹è¯•
- AIåŠŸèƒ½éœ€è¦mockæµ‹è¯•

### ç»„ä»¶æµ‹è¯•
- ä½¿ç”¨Vue Test Utils
- æµ‹è¯•ç»„ä»¶çš„propsã€eventsã€slots
- æµ‹è¯•ç”¨æˆ·äº¤äº’å’ŒçŠ¶æ€å˜åŒ–
- æµ‹è¯•é”™è¯¯è¾¹ç•Œæƒ…å†µ

```typescript
// æµ‹è¯•ç¤ºä¾‹
import { mount } from '@vue/test-utils'
import MindMapNode from '@/components/mindmap/MindMapNode.vue'

describe('MindMapNode', () => {
  it('åº”è¯¥æ­£ç¡®æ¸²æŸ“èŠ‚ç‚¹å†…å®¹', () => {
    const node = { id: '1', content: 'æµ‹è¯•èŠ‚ç‚¹', position: { x: 0, y: 0 } }
    const wrapper = mount(MindMapNode, { props: { node } })
    
    expect(wrapper.text()).toContain('æµ‹è¯•èŠ‚ç‚¹')
  })
  
  it('åº”è¯¥åœ¨ç‚¹å‡»æ—¶è§¦å‘ç¼–è¾‘æ¨¡å¼', async () => {
    const wrapper = mount(MindMapNode, { props: { node, editable: true } })
    
    await wrapper.trigger('click')
    expect(wrapper.emitted('startEdit')).toBeTruthy()
  })
})
```

## æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### æ¸²æŸ“ä¼˜åŒ–
- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡èŠ‚ç‚¹
- å®ç°èŠ‚ç‚¹æ‡’åŠ è½½å’Œå¸è½½
- ä½¿ç”¨requestAnimationFrameä¼˜åŒ–åŠ¨ç”»
- é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“

### å†…å­˜ç®¡ç†
- åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
- ä½¿ç”¨WeakMapå­˜å‚¨ä¸´æ—¶æ•°æ®
- é¿å…å†…å­˜æ³„æ¼ï¼Œç‰¹åˆ«æ˜¯AIè°ƒç”¨
- å®ç°æ•°æ®ç¼“å­˜å’Œæ¸…ç†æœºåˆ¶

## é”™è¯¯å¤„ç†è§„èŒƒ

### å…¨å±€é”™è¯¯å¤„ç†
- å®ç°å…¨å±€é”™è¯¯æ•è·
- åŒºåˆ†ç”¨æˆ·é”™è¯¯å’Œç³»ç»Ÿé”™è¯¯
- æä¾›å‹å¥½çš„é”™è¯¯æç¤º
- è®°å½•é”™è¯¯æ—¥å¿—ç”¨äºè°ƒè¯•

```typescript
// é”™è¯¯å¤„ç†ç¤ºä¾‹
class AppError extends Error {
  constructor(
    message: string,
    public code: string,
    public userMessage: string
  ) {
    super(message)
    this.name = 'AppError'
  }
}

function handleError(error: Error) {
  if (error instanceof AppError) {
    showUserMessage(error.userMessage)
  } else {
    console.error('ç³»ç»Ÿé”™è¯¯:', error)
    showUserMessage('ç³»ç»Ÿå‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•')
  }
}
```

## APIè®¾è®¡è§„èŒƒ

### RESTful API
- ä½¿ç”¨æ ‡å‡†HTTPæ–¹æ³•å’ŒçŠ¶æ€ç 
- ç»Ÿä¸€çš„å“åº”æ ¼å¼
- å®ç°è¯·æ±‚éªŒè¯å’Œé”™è¯¯å¤„ç†
- æ”¯æŒåˆ†é¡µå’Œè¿‡æ»¤

```typescript
// APIå“åº”æ ¼å¼
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
  };
  meta?: {
    total: number;
    page: number;
    limit: number;
  };
}
```

## å®‰å…¨è§„èŒƒ

### æ•°æ®å®‰å…¨
- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- APIå¯†é’¥å®‰å…¨ç®¡ç†
- ç”¨æˆ·è¾“å…¥éªŒè¯å’Œæ¸…ç†
- é˜²æ­¢XSSå’Œæ³¨å…¥æ”»å‡»

### AIå®‰å…¨
- é™åˆ¶AIè°ƒç”¨é¢‘ç‡
- è¿‡æ»¤æ•æ„Ÿå†…å®¹
- ç›‘æ§APIä½¿ç”¨é‡
- å®ç°æˆæœ¬æ§åˆ¶

## éƒ¨ç½²è§„èŒƒ

### ç¯å¢ƒé…ç½®
- ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†é…ç½®
- åŒºåˆ†å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒ
- å®ç°é…ç½®éªŒè¯
- æ”¯æŒçƒ­æ›´æ–°é…ç½®

### æ„å»ºä¼˜åŒ–
- ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- èµ„æºå‹ç¼©å’Œç¼“å­˜
- ç§»é™¤å¼€å‘ä»£ç 
- ä¼˜åŒ–åŒ…å¤§å°

## æ–‡æ¡£è§„èŒƒ

### ä»£ç æ³¨é‡Š
- å¤æ‚é€»è¾‘å¿…é¡»æœ‰æ³¨é‡Š
- ä½¿ç”¨JSDocæ ¼å¼
- æ³¨é‡Šè¦è¯´æ˜ä¸ºä»€ä¹ˆï¼Œä¸æ˜¯åšä»€ä¹ˆ
- ä¿æŒæ³¨é‡Šä¸ä»£ç åŒæ­¥

### APIæ–‡æ¡£
- ä½¿ç”¨OpenAPIè§„èŒƒ
- æä¾›è¯·æ±‚ç¤ºä¾‹
- è¯´æ˜é”™è¯¯ç å«ä¹‰
- ä¿æŒæ–‡æ¡£æ›´æ–°

### é¡¹ç›®æ–‡æ¡£ç®¡ç†
- æ‰€æœ‰æ–‡æ¡£å¿…é¡»ä½¿ç”¨æ—¶é—´æˆ³ç³»ç»Ÿ
- é‡è¦å˜æ›´åç«‹å³æ›´æ–°æ—¶é—´æˆ³
- å®šæœŸå®¡æŸ¥æ–‡æ¡£çŠ¶æ€ï¼ˆT30é—´éš”ï¼‰
- åºŸå¼ƒæ–‡æ¡£ä¿ç•™T180ååˆ é™¤
- ä½¿ç”¨ç»Ÿä¸€çš„æ–‡æ¡£æ¨¡æ¿å’Œæ ¼å¼

### æ–‡æ¡£å·¥å…·ä½¿ç”¨è§„èŒƒ
- æ–°å»ºæ–‡æ¡£æ—¶ä½¿ç”¨ï¼š`npm run docs:header v1.0.0 T{å½“å‰æ—¶é—´æˆ³}`
- æ›´æ–°æ–‡æ¡£æ—¶ä½¿ç”¨ï¼š`npm run docs:update <æ–‡æ¡£è·¯å¾„>`
- æ£€æŸ¥æ—¶é—´æˆ³æ—¶ä½¿ç”¨ï¼š`npm run timestamp:current`
- æ‰€æœ‰æ–‡æ¡£å˜æ›´è®°å½•åˆ° `docs/CHANGELOG.md`

## Gitè§„èŒƒ

### æäº¤ä¿¡æ¯
```
type(scope): description

feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–° (åŒ…å«æ—¶é—´æˆ³æ›´æ–°)
style: ä»£ç æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»ºå·¥å…·
timestamp: æ—¶é—´æˆ³ç³»ç»Ÿæ›´æ–°

ç¤ºä¾‹:
feat(mindmap): æ·»åŠ èŠ‚ç‚¹æ‹–æ‹½åŠŸèƒ½
fix(ai): ä¿®å¤DeepSeek APIè°ƒç”¨é”™è¯¯
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜ T275.1
timestamp(docs): æ›´æ–°æ–‡æ¡£æ—¶é—´æˆ³ç³»ç»Ÿ T275.1
```

### åˆ†æ”¯ç®¡ç†
- main: ä¸»åˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬
- develop: å¼€å‘åˆ†æ”¯
- feature/*: åŠŸèƒ½åˆ†æ”¯
- docs/*: æ–‡æ¡£æ›´æ–°åˆ†æ”¯
- timestamp/*: æ—¶é—´æˆ³ç³»ç»Ÿç›¸å…³åˆ†æ”¯

### æ–‡æ¡£æäº¤è§„èŒƒ
- æ–‡æ¡£æ›´æ–°å¿…é¡»åŒ…å«æ—¶é—´æˆ³æ›´æ–°
- æäº¤ä¿¡æ¯ä¸­åŒ…å«æ—¶é—´æˆ³ä¿¡æ¯
- é‡å¤§æ–‡æ¡£å˜æ›´éœ€è¦æ›´æ–°ç‰ˆæœ¬å·
- åŒæ—¶æ›´æ–°CHANGELOG.mdè®°å½•

## å¼€å‘å·¥å…·é…ç½®

### VSCode/Cursorè®¾ç½®
- å¯ç”¨TypeScriptä¸¥æ ¼æ£€æŸ¥
- å®‰è£…æ¨èæ‰©å±•ï¼šVue Language Features, TypeScript Importer
- é…ç½®æ—¶é—´æˆ³å·¥å…·å¿«æ·å‘½ä»¤

### æ—¶é—´æˆ³å·¥å…·é›†æˆ
- é…ç½®npmè„šæœ¬å¿«æ·é”®
- è®¾ç½®æ–‡æ¡£æ¨¡æ¿åŒ…å«æ—¶é—´æˆ³å¤´éƒ¨
- å¯ç”¨è‡ªåŠ¨æ—¶é—´æˆ³æ›´æ–°æé†’
- é…ç½®ESLintå’ŒPrettier
- ä½¿ç”¨Vueå®˜æ–¹æ’ä»¶
- é…ç½®è°ƒè¯•ç¯å¢ƒ

### æ¨èæ’ä»¶
- Vue Language Features (Volar)
- TypeScript Vue Plugin (Volar)
- ESLint
- Prettier
- Auto Rename Tag
- GitLens

## æ³¨æ„äº‹é¡¹

1. **æ¸è¿›å¼å¼€å‘**: å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œå†æ·»åŠ é«˜çº§ç‰¹æ€§
2. **ç”¨æˆ·ä½“éªŒ**: ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒï¼Œä¿æŒç•Œé¢ç®€æ´ç›´è§‚
3. **æ€§èƒ½ç›‘æ§**: æŒç»­ç›‘æ§æ€§èƒ½æŒ‡æ ‡ï¼ŒåŠæ—¶ä¼˜åŒ–
4. **AIæˆæœ¬æ§åˆ¶**: ç›‘æ§AI APIä½¿ç”¨æˆæœ¬ï¼Œé¿å…è¶…æ”¯
5. **æ•°æ®å¤‡ä»½**: é‡è¦æ•°æ®è¦æœ‰å¤‡ä»½æœºåˆ¶
6. **å…¼å®¹æ€§**: è€ƒè™‘ä¸åŒæµè§ˆå™¨å’Œè®¾å¤‡çš„å…¼å®¹æ€§
7. **å¯è®¿é—®æ€§**: æ”¯æŒé”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨
8. **å›½é™…åŒ–**: é¢„ç•™å¤šè¯­è¨€æ”¯æŒçš„ç©ºé—´

## å¼€å‘æµç¨‹

1. **éœ€æ±‚åˆ†æ**: æ˜ç¡®åŠŸèƒ½éœ€æ±‚å’ŒæŠ€æœ¯æ–¹æ¡ˆ
2. **è®¾è®¡è¯„å®¡**: ç¡®è®¤UI/UXè®¾è®¡å’ŒæŠ€æœ¯æ¶æ„
3. **ç¼–ç å®ç°**: æŒ‰ç…§è§„èŒƒè¿›è¡Œå¼€å‘
4. **è‡ªæµ‹éªŒè¯**: å®ŒæˆåŠŸèƒ½æµ‹è¯•å’Œä»£ç review
5. **é›†æˆæµ‹è¯•**: ç¡®ä¿åŠŸèƒ½æ­£å¸¸é›†æˆ
6. **éƒ¨ç½²å‘å¸ƒ**: æŒ‰ç…§éƒ¨ç½²æµç¨‹å‘å¸ƒç‰ˆæœ¬

è®°ä½ï¼šä»£ç è´¨é‡æ¯”é€Ÿåº¦æ›´é‡è¦ï¼Œå§‹ç»ˆä¿æŒä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
